<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EHE Community Widerspruch</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #ffffff;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(30, 30, 46, 0.95);
            border: 1px solid #444;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #0f3460 0%, #0e4b99 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .developer-info {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .modal {
            display: flex;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e1e2e 0%, #2a2a3e 100%);
            color: #ffffff;
            border: 1px solid #444;
            padding: 30px;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            color: #64ffda;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-align: center;
        }

        .guidelines {
            line-height: 1.6;
            margin-bottom: 20px;
            color: #e0e0e0;
        }

        .guidelines h3 {
            color: #64ffda;
            margin: 15px 0 10px 0;
        }

        .guidelines ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .guidelines li {
            margin-bottom: 8px;
        }

        .accept-btn {
            background: linear-gradient(135deg, #64ffda 0%, #00bcd4 100%);
            color: #1a1a2e;
            font-weight: bold;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            width: 100%;
            transition: all 0.3s ease;
        }

        .accept-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(100, 255, 218, 0.4);
        }

        .content {
            padding: 30px;
        }

        .important-notice {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid #ff4757;
        }

        .important-notice h2 {
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #e0e0e0;
        }

        .required {
            color: #ff6b6b;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #444;
            border-radius: 8px;
            font-size: 1em;
            background: #2a2a3e;
            color: #ffffff;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #64ffda;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.3);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: #888;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .submit-btn {
            background: linear-gradient(135deg, #64ffda 0%, #00bcd4 100%);
            color: #1a1a2e;
            font-weight: bold;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.2em;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(100, 255, 218, 0.4);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .success-popup {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            align-items: center;
            justify-content: center;
        }

        .success-popup-content {
            background: linear-gradient(135deg, #1e1e2e 0%, #2a2a3e 100%);
            color: #ffffff;
            border: 2px solid #64ffda;
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            text-align: center;
            position: relative;
        }

        .success-popup-header {
            color: #64ffda;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }

        .success-popup-content h3 {
            color: #64ffda;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
        }

        .success-popup-content p {
            margin-bottom: 15px;
            line-height: 1.6;
            color: #e0e0e0;
        }

        .success-popup-content ul {
            text-align: left;
            margin: 15px 0;
            padding-left: 20px;
        }

        .success-popup-content li {
            margin-bottom: 10px;
            color: #e0e0e0;
        }

        .warning-box {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            border: 2px solid #ff4757;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .warning-box h4 {
            color: #ffffff;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .warning-box p {
            color: #ffffff;
            font-weight: bold;
        }

        .close-popup-btn {
            background: linear-gradient(135deg, #64ffda 0%, #00bcd4 100%);
            color: #1a1a2e;
            font-weight: bold;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 20px;
            transition: all 0.3s ease;
            width: 100%;
        }

        .close-popup-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(100, 255, 218, 0.4);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            z-index: 1500;
            transform: translateX(400px);
            transition: all 0.3s ease;
            max-width: 350px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            border-left: 4px solid #2ecc71;
        }

        .notification.error {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            border-left: 4px solid #c0392b;
        }

        .notification.info {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            border-left: 4px solid #2980b9;
        }

        @media (max-width: 768px) {
            .success-popup-content {
                padding: 25px;
                margin: 20px;
                width: calc(100% - 40px);
            }
            
            .success-popup-header {
                font-size: 2em;
            }
            
            .notification {
                right: 10px;
                top: 10px;
                max-width: calc(100% - 20px);
                transform: translateX(100%);
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .developer-info {
                font-size: 0.9em;
            }
            
            .content {
                padding: 15px;
            }
            
            .modal-content {
                padding: 20px;
                margin: 10px;
                width: calc(100% - 20px);
            }
            
            .modal-header {
                font-size: 1.5em;
            }
            
            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 10px 12px;
                font-size: 16px; /* Verhindert Zoom auf iOS */
            }
            
            .submit-btn {
                padding: 12px 30px;
                font-size: 1.1em;
            }
            
            .important-notice {
                padding: 15px;
                margin-bottom: 20px;
            }
            
            .important-notice h2 {
                font-size: 1.3em;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5em;
            }
            
            .form-group {
                margin-bottom: 20px;
            }
            
            .modal-content {
                padding: 15px;
                max-height: 90vh;
            }
            
            .guidelines {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <!-- Richtlinien Modal -->
    <div id="guidelinesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>📋 Nutzungsrichtlinien</h2>
            </div>
            <div class="guidelines">
                <h3>🔒 Datenschutz und Verwendung</h3>
                <ul>
                    <li>Ihre Daten werden vertraulich behandelt und nur für die Bearbeitung Ihres Widerspruchs verwendet.</li>
                    <li>Alle Angaben werden über eine sichere Verbindung übertragen.</li>
                    <li>Ihre persönlichen Daten werden nicht an Dritte weitergegeben.</li>
                </ul>

                <h3>📝 Widerspruchsverfahren</h3>
                <ul>
                    <li>Bitte füllen Sie alle mit * markierten Pflichtfelder vollständig aus.</li>
                    <li>Falsche oder unvollständige Angaben können zur Ablehnung des Widerspruchs führen.</li>
                    <li>Die Bearbeitung kann bis zu 30 Werktage dauern.</li>
                    <li>Kontaktaufnahme erfolgt ausschließlich per E-Mail.</li>
                </ul>

                <h3>⚖️ Rechtliche Hinweise</h3>
                <ul>
                    <li>Der Widerspruch muss begründet und nachvollziehbar sein.</li>
                    <li>Sie haben das Recht auf Auskunft über den Bearbeitungsstand.</li>
                    <li>Bei Rückfragen werden wir Sie per E-Mail kontaktieren.</li>
                </ul>

                <h3>🛡️ Haftungsausschluss</h3>
                <ul>
                    <li>Die EHE Community haftet nicht für Schäden durch unsachgemäße Nutzung.</li>
                    <li>Missbräuchliche Nutzung kann rechtliche Konsequenzen haben.</li>
                </ul>
            </div>
            <button class="accept-btn" onclick="acceptGuidelines()">
                ✅ Ich habe die Richtlinien gelesen und akzeptiere sie
            </button>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>🏛️ EHE Community Widerspruch</h1>
            <p class="developer-info">Entwickelt von: EHE Community Webseite Studio</p>
        </div>

        <div class="content">
            <div class="important-notice">
                <h2>⚠️ Wichtiger Hinweis</h2>
                <p>
                    Bitte beachten Sie, dass alle mit einem roten Stern (*) markierten Felder Pflichtfelder sind und vollständig ausgefüllt werden müssen. 
                    Unvollständige Angaben können zur Verzögerung oder Ablehnung Ihres Widerspruchs führen. 
                    Stellen Sie sicher, dass alle Informationen korrekt und aktuell sind. Die Kontaktaufnahme erfolgt ausschließlich per E-Mail.
                </p>
            </div>

            <form id="widerspruchForm">
                <div class="form-group">
                    <label for="vorname">Vorname <span class="required">*</span></label>
                    <input type="text" id="vorname" name="vorname" required>
                </div>

                <div class="form-group">
                    <label for="nachname">Nachname <span class="required">*</span></label>
                    <input type="text" id="nachname" name="nachname" required>
                </div>

                <div class="form-group">
                    <label for="email">E-Mail-Adresse <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required>
                </div>



                <div class="form-group">
                    <label for="widerspruchsgrund">Grund des Widerspruchs <span class="required">*</span></label>
                    <select id="widerspruchsgrund" name="widerspruchsgrund" required>
                        <option value="">Bitte wählen Sie einen Grund</option>
                        <option value="Datenschutz">Datenschutzverstoß</option>
                        <option value="Unzutreffend">Unzutreffende Informationen</option>
                        <option value="Rechtsfehler">Rechtsfehler</option>
                        <option value="Verfahrensfehler">Verfahrensfehler</option>
                        <option value="Sonstiges">Sonstiges</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="beschreibung">Detaillierte Beschreibung des Widerspruchs <span class="required">*</span></label>
                    <textarea id="beschreibung" name="beschreibung" placeholder="Beschreiben Sie hier ausführlich den Sachverhalt und die Begründung Ihres Widerspruchs..." required></textarea>
                </div>

                <div class="form-group">
                    <label for="aktenzeichen">Aktenzeichen/Referenznummer (falls vorhanden)</label>
                    <input type="text" id="aktenzeichen" name="aktenzeichen">
                </div>

                <div class="form-group">
                    <label for="datum">Datum des strittigen Vorgangs <span class="required">*</span></label>
                    <input type="date" id="datum" name="datum" required>
                </div>

                <div class="form-group">
                    <label for="beweise">Beweise/Anhänge (Beschreibung)</label>
                    <textarea id="beweise" name="beweise" placeholder="Beschreiben Sie hier vorhandene Beweise oder Dokumente, die Sie separat einreichen werden..."></textarea>
                </div>

                <button type="submit" class="submit-btn">📤 Widerspruch einreichen</button>
            </form>

    <!-- Erfolgs-Popup -->
    <div id="successPopup" class="success-popup">
        <div class="success-popup-content">
            <div class="success-popup-header">✅</div>
            <h2 style="color: #64ffda; margin-bottom: 20px;">Widerspruch erfolgreich eingereicht!</h2>
            
            <p><strong>Ihre Anfrage wurde erfolgreich an unser Team weitergeleitet.</strong></p>
            
            <h3>📅 Bearbeitungsdauer</h3>
            <p>Die Bearbeitung Ihres Widerspruchs kann <strong>bis zu 30 Werktage</strong> in Anspruch nehmen.</p>
            
            <h3>📧 Weitere Informationen</h3>
            <ul>
                <li>Sie erhalten in Kürze eine Bestätigungs-E-Mail</li>
                <li>Bei Rückfragen kontaktieren wir Sie per E-Mail</li>
                <li>Den Bearbeitungsstand können Sie jederzeit anfragen</li>
                <li>Halten Sie Ihre Referenznummer bereit</li>
            </ul>
            
            <div class="warning-box">
                <h4>⚠️ Wichtiger Hinweis zu Missbrauch</h4>
                <p>Betrug, Spam oder missbräuchliche Nutzung dieser Plattform kann rechtliche Konsequenzen haben und wird strafrechtlich verfolgt. Bitte verwenden Sie diesen Service nur für legitime Widersprüche.</p>
            </div>
            
            <h3>📞 Support</h3>
            <p>Bei dringenden Fragen wenden Sie sich bitte an unseren Support über die angegebene E-Mail-Adresse.</p>
            
            <button class="close-popup-btn" onclick="closeSuccessPopup()">
                🔙 Schließen und zur Startseite zurückkehren
            </button>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer"></div>
        </div>
    </div>

    <script>
        // Notification System
        function showNotification(message, type = 'info', duration = 4000) {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            container.appendChild(notification);
            
            // Animation einschalten
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Notification nach bestimmter Zeit entfernen
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (container.contains(notification)) {
                        container.removeChild(notification);
                    }
                }, 300);
            }, duration);
        }

        // Erfolgs-Popup schließen
        function closeSuccessPopup() {
            document.getElementById('successPopup').style.display = 'none';
            document.getElementById('widerspruchForm').reset();
        }

        // Richtlinien Modal beim Laden anzeigen
        window.addEventListener('load', function() {
            document.getElementById('guidelinesModal').style.display = 'flex';
            showNotification('Willkommen! Bitte lesen Sie die Richtlinien.', 'info', 3000);
        });

        function acceptGuidelines() {
            document.getElementById('guidelinesModal').style.display = 'none';
            showNotification('Richtlinien akzeptiert. Sie können jetzt fortfahren.', 'success', 3000);
        }

        // Formular absenden
        document.getElementById('widerspruchForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = document.querySelector('.submit-btn');
            
            // Button deaktivieren
            submitBtn.disabled = true;
            submitBtn.textContent = '📤 Wird eingereicht...';
            
            showNotification('Ihr Widerspruch wird verarbeitet...', 'info', 2000);
            
            // Formulardaten sammeln
            const formData = new FormData(this);
            const data = {};
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            // Discord Embed erstellen
            const embed = {
                title: "🏛️ Neuer Widerspruch eingereicht",
                color: 0x64ffda,
                fields: [
                    {
                        name: "👤 Persönliche Daten",
                        value: `**Name:** ${data.vorname} ${data.nachname}\n**E-Mail:** ${data.email}`,
                        inline: false
                    },
                    {
                        name: "⚖️ Widerspruchsdetails",
                        value: `**Grund:** ${data.widerspruchsgrund}\n**Datum:** ${data.datum}\n**Aktenzeichen:** ${data.aktenzeichen || 'Nicht angegeben'}`,
                        inline: false
                    },
                    {
                        name: "📝 Beschreibung",
                        value: data.beschreibung.length > 1000 ? data.beschreibung.substring(0, 1000) + '...' : data.beschreibung,
                        inline: false
                    }
                ],
                footer: {
                    text: "EHE Community Widerspruch System - Eingereicht über Webformular"
                },
                timestamp: new Date().toISOString()
            };
            
            if (data.beweise) {
                embed.fields.push({
                    name: "📎 Beweise/Anhänge",
                    value: data.beweise,
                    inline: false
                });
            }
            
            try {
                const response = await fetch('https://discord.com/api/webhooks/1393233572189442121/G-gPyTC8tvj4ofIIKX3F0mfC-ntJhdOk_Yp7T4Ej-ZxmPYr1HsMeHYZG49BgL2rUh8hF', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        embeds: [embed]
                    })
                });
                
                if (response.ok) {
                    showNotification('Widerspruch erfolgreich eingereicht!', 'success', 3000);
                    setTimeout(() => {
                        document.getElementById('successPopup').style.display = 'flex';
                    }, 1000);
                } else {
                    throw new Error('Fehler beim Senden');
                }
            } catch (error) {
                showNotification('Fehler beim Einreichen. Bitte versuchen Sie es erneut.', 'error', 5000);
                console.error('Fehler:', error);
            }
            
            // Button wieder aktivieren
            submitBtn.disabled = false;
            submitBtn.textContent = '📤 Widerspruch einreichen';
        });
    </script>
</body>
</html>